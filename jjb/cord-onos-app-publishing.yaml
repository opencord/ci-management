---
# onos-app-publishing

- project:
    name: onos-app-publishing

    project-name: '{name}'

    jobs:
      - 'onos-app-publishing'

- scm:
    name: cord-checkout
    scm:
      - cord-infra-gerrit-repo-scm:
          manifest-url: '{gerrit-server-url}/{cord-repo-manifest}'
          branch: '$GERRIT_BRANCH'
          destination-dir: 'cord'

- job-template:
    id: onos-app-publishing
    name: 'cord-onos-app-publishing'
    description: |
      <!-- Managed by Jenkins Job Builder -->
      Created by {id} job-template from ci-management/jjb/cord-onos-app-publishing.yaml

    properties:
      - cord-infra-properties:
          build-days-to-keep: '{build-days-to-keep}'
          artifact-num-to-keep: '{artifact-num-to-keep}'

    node: 'ubuntu16.04-basebuild-1c-2g'
    project-type: pipeline
    concurrent: true

    pipeline-scm:
      scm:
        - cord-checkout
      script-path: 'cord-onos-publisher/Jenkinsfile'

    triggers:
       - timed: |
                 TZ=America/Los_Angeles
                 H 0 * * *

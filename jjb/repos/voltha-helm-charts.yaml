---
# SPDX-FileCopyrightText: 2018-2022 Open Networking Foundation <info@opennetworking.org>
# SPDX-License-Identifier: Apache-2.0

- project:
    name: voltha-helm-charts
    project: '{name}'
    project-regexp: '^{name}$'

    jobs:
      - 'verify-voltha-helm-charts-jobs':
          branch-regexp: '{all-branches-regexp}'
      - 'verify-voltha-helm-charts-jobs-voltha-2.8':
          name-extension: '-voltha-2.8'
          override-branch: 'voltha-2.8'
          branch-regexp: '^voltha-2.8$'
      - 'verify-voltha-helm-charts-jobs-voltha-2.9':
          name-extension: '-voltha-2.9'
          override-branch: 'voltha-2.9'
          branch-regexp: '^voltha-2.9$'
      - 'verify-voltha-helm-charts-jobs-voltha-2.10':
          name-extension: '-voltha-2.10'
          override-branch: 'voltha-2.10'
          branch-regexp: '^voltha-2.10$'
      - 'verify-voltha-helm-charts-jobs-master':
          branch-regexp: '^master$'

- job-group:
    name: 'verify-voltha-helm-charts-jobs'
    jobs:
      - 'verify-licensed'
      - 'tag-check'
      - 'helm-lint'
      - 'version-tag'
      - 'publish-helm-repo'

- job-group:
    name: 'verify-voltha-helm-charts-jobs-voltha-2.8'
    jobs:
      - 'voltha-patch-test':
          pipeline-script: 'voltha/voltha-2.8/bbsim-tests.groovy'

- job-group:
    name: 'verify-voltha-helm-charts-jobs-voltha-2.9'
    jobs:
      - 'voltha-patch-test':
          pipeline-script: 'voltha/voltha-2.9/bbsim-tests.groovy'

- job-group:
    name: 'verify-voltha-helm-charts-jobs-voltha-2.10'
    jobs:
      - 'voltha-patch-test':
          pipeline-script: 'voltha/voltha-2.10/bbsim-tests.groovy'

- job-group:
    name: 'verify-voltha-helm-charts-jobs-master'
    jobs:
      - 'voltha-patch-test'
